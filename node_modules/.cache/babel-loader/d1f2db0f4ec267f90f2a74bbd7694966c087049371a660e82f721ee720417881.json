{"ast":null,"code":"var _jsxFileName = \"/home/jbj/front/src/components/KakaoMap.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useNavigate } from 'react-router-dom'; // Ï∂îÍ∞Ä!\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'https://2094-165-229-229-106.ngrok-free.app';\nconst KAKAO_JS_KEY = '4f98b430d3ac0e982a3c3bd31b8b410d';\nconst KAKAO_REST_API_KEY = 'c32790578348e6ef920eca53f2c23382';\nconst DEFAULT_CENTER = {\n  lat: 37.5665,\n  lng: 126.9780\n};\nconst handleReserve = async property => {\n  // Ïã§Ï†ú Î°úÍ∑∏Ïù∏ Ïú†Ï†Ä Ï†ïÎ≥¥ ÌïÑÏöîÌïòÎ©¥ propsÎ°ú Î∞õÏïÑÏÑú user.username ÏÇ¨Ïö© (ÏïÑÎûòÏ≤òÎüº property.createdByÎèÑ ÏûÑÏãúÎ°ú Í∞ÄÎä•)\n  const expiresAt = Math.floor(Date.now() / 1000) + 12 * 3600;\n  const payload = {\n    user: property.createdBy,\n    // ÌòπÏùÄ Î°úÍ∑∏Ïù∏Ìïú Ïú†Ï†Ä Ï†ïÎ≥¥Î°ú ÍµêÏ≤¥!\n    id: property.id,\n    expiresAt\n  };\n  const token = localStorage.getItem('token');\n  try {\n    const res = await fetch(`${API_URL}/reserve-property`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n        'ngrok-skip-browser-warning': 'true'\n      },\n      body: JSON.stringify(payload)\n    });\n    const data = await res.json();\n    alert(data.message || '‚úÖ ÏòàÏïΩÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.');\n    // ÏòàÏïΩ ÏÑ±Í≥µ ÌõÑ Î™©Î°ù Í∞±Ïã† ÏõêÌïòÎ©¥ ÏïÑÎûò Îëò Ï§ë ÌïòÎÇò ÏÇ¨Ïö©:\n    // Î∞©Î≤ï1: Ï†ÑÏ≤¥ ÏÉàÎ°úÍ≥†Ïπ® (Í∞ÑÎã®)\n    window.location.reload();\n    // Î∞©Î≤ï2: setPropertiesÎ°ú stateÎßå Í∞±Ïã† (ÏõêÌïòÎ©¥ Îî∞Î°ú ÏïàÎÇ¥ Í∞ÄÎä•)\n  } catch (err) {\n    alert('ÏòàÏïΩ Ïã§Ìå®: ' + err.message);\n  }\n};\nexport default function KakaoMap() {\n  _s();\n  const [properties, setProperties] = useState([]);\n  const mapRef = useRef(null);\n  const navigate = useNavigate(); // Ï∂îÍ∞Ä\n\n  useEffect(() => {\n    fetch(`${API_URL}/properties?user=admin`, {\n      headers: {\n        'ngrok-skip-browser-warning': 'true'\n      }\n    }).then(r => r.json()).then(data => {\n      const list = Array.isArray(data.properties) ? data.properties : Array.isArray(data) ? data : [];\n      setProperties(list);\n    }).catch(() => setProperties([]));\n  }, []);\n  useEffect(() => {\n    const container = mapRef.current;\n    if (!container) return;\n    const geocode = async addr => {\n      var _json$documents;\n      const res = await fetch(`https://dapi.kakao.com/v2/local/search/address.json?query=${encodeURIComponent(addr)}`, {\n        headers: {\n          Authorization: `KakaoAK ${KAKAO_REST_API_KEY}`\n        }\n      });\n      const json = await res.json();\n      if (!((_json$documents = json.documents) !== null && _json$documents !== void 0 && _json$documents.length)) throw new Error('no docs');\n      const {\n        x,\n        y\n      } = json.documents[0];\n      return {\n        lat: parseFloat(y),\n        lng: parseFloat(x)\n      };\n    };\n    let openedInfoWindow = null;\n    const initMap = async () => {\n      const map = new window.kakao.maps.Map(container, {\n        center: new window.kakao.maps.LatLng(DEFAULT_CENTER.lat, DEFAULT_CENTER.lng),\n        level: 5\n      });\n      if (!properties.length) return;\n      const coordsList = await Promise.all(properties.map(async p => {\n        try {\n          const c = await geocode(p.address);\n          return {\n            ...p,\n            ...c\n          };\n        } catch {\n          return null;\n        }\n      }));\n      const valid = coordsList.filter(Boolean);\n      if (!valid.length) return;\n      map.setCenter(new window.kakao.maps.LatLng(valid[0].lat, valid[0].lng));\n      valid.forEach(p => {\n        var _p$ownerHistory$at$ow, _p$ownerHistory, _p$ownerHistory$at, _p$priceHistory$at$pr, _p$priceHistory, _p$priceHistory$at, _p$priceHistory$at$pr2;\n        const pos = new window.kakao.maps.LatLng(p.lat, p.lng);\n        const marker = new window.kakao.maps.Marker({\n          map,\n          position: pos\n        });\n        const owner = (_p$ownerHistory$at$ow = (_p$ownerHistory = p.ownerHistory) === null || _p$ownerHistory === void 0 ? void 0 : (_p$ownerHistory$at = _p$ownerHistory.at(-1)) === null || _p$ownerHistory$at === void 0 ? void 0 : _p$ownerHistory$at.owner) !== null && _p$ownerHistory$at$ow !== void 0 ? _p$ownerHistory$at$ow : '-';\n        const price = (_p$priceHistory$at$pr = (_p$priceHistory = p.priceHistory) === null || _p$priceHistory === void 0 ? void 0 : (_p$priceHistory$at = _p$priceHistory.at(-1)) === null || _p$priceHistory$at === void 0 ? void 0 : (_p$priceHistory$at$pr2 = _p$priceHistory$at.price) === null || _p$priceHistory$at$pr2 === void 0 ? void 0 : _p$priceHistory$at$pr2.toLocaleString()) !== null && _p$priceHistory$at$pr !== void 0 ? _p$priceHistory$at$pr : '-';\n\n        // Ìï≠ÏÉÅ ÏÉÅÏÑ∏Î≥¥Í∏∞ Î≤ÑÌäºÏù¥ Î≥¥Ïù¥ÎèÑÎ°ù\n        const reservedOrButton = p.reservedBy ? `<span style=\"color:red; margin-right:10px;\">ÏòàÏïΩÎê®</span>` : `<button class=\"map-reserve-btn\" data-id=\"${p.id}\">ÏòàÏïΩÌïòÍ∏∞</button>`;\n\n        // Ìï≠ÏÉÅ ÏÉÅÏÑ∏Î≥¥Í∏∞ Î≤ÑÌäº Ìè¨Ìï®\n        const content = `\n          <div style=\"\n            width: 240px;\n            background: #fff;\n            border-radius: 15px;\n            box-shadow: 0 2px 12px rgba(40,40,40,0.14);\n            padding: 18px 20px 12px 20px;\n            border: 1px solid #ececec;\n            font-family: 'Pretendard','Noto Sans KR',sans-serif;\n          \">\n            <div style=\"font-size:18px; font-weight:bold; margin-bottom:8px; color:#212121;\">\n              ${p.address}\n            </div>\n            <div style=\"font-size:15px; margin-bottom:5px;\">\n              üë§ <span style=\"font-weight:bold;\">${owner}</span>\n            </div>\n            <div style=\"font-size:15px; margin-bottom:5px;\">\n              üí∞ <span style=\"color:#E8B100; font-weight:bold;\">${price} Ïõê</span>\n            </div>\n            <div style=\"font-size:15px; margin-top:7px; display:flex; gap:8px; align-items:center;\">\n              <button class=\"map-detail-btn\" data-id=\"${p.id}\">ÏÉÅÏÑ∏Î≥¥Í∏∞</button>\n              ${reservedOrButton}\n            </div>\n          </div>\n        `;\n        const iw = new window.kakao.maps.InfoWindow({\n          content\n        });\n        window.kakao.maps.event.addListener(marker, 'click', () => {\n          if (openedInfoWindow === iw) {\n            iw.close();\n            openedInfoWindow = null;\n          } else {\n            if (openedInfoWindow) openedInfoWindow.close();\n            iw.open(map, marker);\n            openedInfoWindow = iw;\n\n            // InfoWindowÍ∞Ä DOMÏóê Í∑∏Î†§ÏßÑ Îí§ Î≤ÑÌäº Ïù¥Î≤§Ìä∏ Î∞îÏù∏Îî©\n            setTimeout(() => {\n              // ÏÉÅÏÑ∏Î≥¥Í∏∞ Î≤ÑÌäº\n              const detailBtn = document.querySelector(`.map-detail-btn[data-id=\"${p.id}\"]`);\n              if (detailBtn) {\n                detailBtn.onclick = e => {\n                  e.preventDefault();\n                  navigate(`/properties/${p.id}`);\n                };\n              }\n\n              // ÏòàÏïΩ Î≤ÑÌäº\n              if (!p.reservedBy) {\n                const reserveBtn = document.querySelector(`.map-reserve-btn[data-id=\"${p.id}\"]`);\n                if (reserveBtn) {\n                  reserveBtn.onclick = e => {\n                    e.preventDefault();\n                    handleReserve(p);\n                  };\n                }\n              }\n            }, 100);\n          }\n        });\n      });\n    };\n    if (typeof window.kakao === 'undefined' || !window.kakao.maps) {\n      const script = document.createElement('script');\n      script.src = `https://dapi.kakao.com/v2/maps/sdk.js?appkey=${KAKAO_JS_KEY}&libraries=services&autoload=false`;\n      script.async = true;\n      script.onload = () => {\n        window.kakao.maps.load(initMap);\n      };\n      document.head.appendChild(script);\n    } else {\n      window.kakao.maps.load(initMap);\n    }\n    return () => {\n      if (container) container.innerHTML = '';\n    };\n  }, [properties, navigate]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '100%',\n      height: '100%'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mapRef,\n      style: {\n        width: '100%',\n        height: '100%',\n        borderRadius: '12px',\n        boxShadow: '0 2px 8px rgba(0,0,0,0.06)'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 197,\n    columnNumber: 5\n  }, this);\n}\n_s(KakaoMap, \"gzxtN44JzrT2Do5clvyDN9ro2ZE=\", false, function () {\n  return [useNavigate];\n});\n_c = KakaoMap;\nvar _c;\n$RefreshReg$(_c, \"KakaoMap\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useNavigate","jsxDEV","_jsxDEV","API_URL","KAKAO_JS_KEY","KAKAO_REST_API_KEY","DEFAULT_CENTER","lat","lng","handleReserve","property","expiresAt","Math","floor","Date","now","payload","user","createdBy","id","token","localStorage","getItem","res","fetch","method","headers","body","JSON","stringify","data","json","alert","message","window","location","reload","err","KakaoMap","_s","properties","setProperties","mapRef","navigate","then","r","list","Array","isArray","catch","container","current","geocode","addr","_json$documents","encodeURIComponent","Authorization","documents","length","Error","x","y","parseFloat","openedInfoWindow","initMap","map","kakao","maps","Map","center","LatLng","level","coordsList","Promise","all","p","c","address","valid","filter","Boolean","setCenter","forEach","_p$ownerHistory$at$ow","_p$ownerHistory","_p$ownerHistory$at","_p$priceHistory$at$pr","_p$priceHistory","_p$priceHistory$at","_p$priceHistory$at$pr2","pos","marker","Marker","position","owner","ownerHistory","at","price","priceHistory","toLocaleString","reservedOrButton","reservedBy","content","iw","InfoWindow","event","addListener","close","open","setTimeout","detailBtn","document","querySelector","onclick","e","preventDefault","reserveBtn","script","createElement","src","async","onload","load","head","appendChild","innerHTML","style","width","height","children","ref","borderRadius","boxShadow","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/jbj/front/src/components/KakaoMap.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { useNavigate } from 'react-router-dom'; // Ï∂îÍ∞Ä!\n\nconst API_URL            = 'https://2094-165-229-229-106.ngrok-free.app';\nconst KAKAO_JS_KEY       = '4f98b430d3ac0e982a3c3bd31b8b410d';\nconst KAKAO_REST_API_KEY = 'c32790578348e6ef920eca53f2c23382';\nconst DEFAULT_CENTER     = { lat: 37.5665, lng: 126.9780 };\nconst handleReserve = async (property) => {\n    // Ïã§Ï†ú Î°úÍ∑∏Ïù∏ Ïú†Ï†Ä Ï†ïÎ≥¥ ÌïÑÏöîÌïòÎ©¥ propsÎ°ú Î∞õÏïÑÏÑú user.username ÏÇ¨Ïö© (ÏïÑÎûòÏ≤òÎüº property.createdByÎèÑ ÏûÑÏãúÎ°ú Í∞ÄÎä•)\n    const expiresAt = Math.floor(Date.now() / 1000) + 12 * 3600;\n    const payload = {\n      user: property.createdBy, // ÌòπÏùÄ Î°úÍ∑∏Ïù∏Ìïú Ïú†Ï†Ä Ï†ïÎ≥¥Î°ú ÍµêÏ≤¥!\n      id: property.id,\n      expiresAt\n    };\n    const token = localStorage.getItem('token');\n    try {\n      const res = await fetch(\n        `${API_URL}/reserve-property`,\n        {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`,\n            'ngrok-skip-browser-warning': 'true'\n          },\n          body: JSON.stringify(payload)\n        }\n      );\n      const data = await res.json();\n      alert(data.message || '‚úÖ ÏòàÏïΩÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.');\n      // ÏòàÏïΩ ÏÑ±Í≥µ ÌõÑ Î™©Î°ù Í∞±Ïã† ÏõêÌïòÎ©¥ ÏïÑÎûò Îëò Ï§ë ÌïòÎÇò ÏÇ¨Ïö©:\n      // Î∞©Î≤ï1: Ï†ÑÏ≤¥ ÏÉàÎ°úÍ≥†Ïπ® (Í∞ÑÎã®)\n      window.location.reload();\n      // Î∞©Î≤ï2: setPropertiesÎ°ú stateÎßå Í∞±Ïã† (ÏõêÌïòÎ©¥ Îî∞Î°ú ÏïàÎÇ¥ Í∞ÄÎä•)\n    } catch (err) {\n      alert('ÏòàÏïΩ Ïã§Ìå®: ' + err.message);\n    }\n  };\n\nexport default function KakaoMap() {\n  const [properties, setProperties] = useState([]);\n  const mapRef = useRef(null);\n  const navigate = useNavigate(); // Ï∂îÍ∞Ä\n\n  useEffect(() => {\n    fetch(`${API_URL}/properties?user=admin`, {\n      headers: { 'ngrok-skip-browser-warning': 'true' }\n    })\n      .then(r => r.json())\n      .then(data => {\n        const list = Array.isArray(data.properties)\n          ? data.properties\n          : Array.isArray(data)\n            ? data\n            : [];\n        setProperties(list);\n      })\n      .catch(() => setProperties([]));\n  }, []);\n\n  useEffect(() => {\n    const container = mapRef.current;\n    if (!container) return;\n\n    const geocode = async (addr) => {\n      const res = await fetch(\n        `https://dapi.kakao.com/v2/local/search/address.json?query=${encodeURIComponent(addr)}`,\n        { headers: { Authorization: `KakaoAK ${KAKAO_REST_API_KEY}` } }\n      );\n      const json = await res.json();\n      if (!json.documents?.length) throw new Error('no docs');\n      const { x, y } = json.documents[0];\n      return { lat: parseFloat(y), lng: parseFloat(x) };\n    };\n\n    let openedInfoWindow = null;\n\n    const initMap = async () => {\n      const map = new window.kakao.maps.Map(container, {\n        center: new window.kakao.maps.LatLng(DEFAULT_CENTER.lat, DEFAULT_CENTER.lng),\n        level: 5,\n      });\n\n      if (!properties.length) return;\n\n      const coordsList = await Promise.all(\n        properties.map(async p => {\n          try {\n            const c = await geocode(p.address);\n            return { ...p, ...c };\n          } catch {\n            return null;\n          }\n        })\n      );\n      const valid = coordsList.filter(Boolean);\n      if (!valid.length) return;\n\n      map.setCenter(new window.kakao.maps.LatLng(valid[0].lat, valid[0].lng));\n\n      valid.forEach(p => {\n        const pos = new window.kakao.maps.LatLng(p.lat, p.lng);\n        const marker = new window.kakao.maps.Marker({ map, position: pos });\n\n        const owner = p.ownerHistory?.at(-1)?.owner ?? '-';\n        const price = p.priceHistory?.at(-1)?.price?.toLocaleString() ?? '-';\n\n        // Ìï≠ÏÉÅ ÏÉÅÏÑ∏Î≥¥Í∏∞ Î≤ÑÌäºÏù¥ Î≥¥Ïù¥ÎèÑÎ°ù\n        const reservedOrButton = p.reservedBy\n          ? `<span style=\"color:red; margin-right:10px;\">ÏòàÏïΩÎê®</span>`\n          : `<button class=\"map-reserve-btn\" data-id=\"${p.id}\">ÏòàÏïΩÌïòÍ∏∞</button>`;\n\n        // Ìï≠ÏÉÅ ÏÉÅÏÑ∏Î≥¥Í∏∞ Î≤ÑÌäº Ìè¨Ìï®\n        const content = `\n          <div style=\"\n            width: 240px;\n            background: #fff;\n            border-radius: 15px;\n            box-shadow: 0 2px 12px rgba(40,40,40,0.14);\n            padding: 18px 20px 12px 20px;\n            border: 1px solid #ececec;\n            font-family: 'Pretendard','Noto Sans KR',sans-serif;\n          \">\n            <div style=\"font-size:18px; font-weight:bold; margin-bottom:8px; color:#212121;\">\n              ${p.address}\n            </div>\n            <div style=\"font-size:15px; margin-bottom:5px;\">\n              üë§ <span style=\"font-weight:bold;\">${owner}</span>\n            </div>\n            <div style=\"font-size:15px; margin-bottom:5px;\">\n              üí∞ <span style=\"color:#E8B100; font-weight:bold;\">${price} Ïõê</span>\n            </div>\n            <div style=\"font-size:15px; margin-top:7px; display:flex; gap:8px; align-items:center;\">\n              <button class=\"map-detail-btn\" data-id=\"${p.id}\">ÏÉÅÏÑ∏Î≥¥Í∏∞</button>\n              ${reservedOrButton}\n            </div>\n          </div>\n        `;\n\n        const iw = new window.kakao.maps.InfoWindow({ content });\n\n        window.kakao.maps.event.addListener(marker, 'click', () => {\n          if (openedInfoWindow === iw) {\n            iw.close();\n            openedInfoWindow = null;\n          } else {\n            if (openedInfoWindow) openedInfoWindow.close();\n            iw.open(map, marker);\n            openedInfoWindow = iw;\n\n            // InfoWindowÍ∞Ä DOMÏóê Í∑∏Î†§ÏßÑ Îí§ Î≤ÑÌäº Ïù¥Î≤§Ìä∏ Î∞îÏù∏Îî©\n            setTimeout(() => {\n              // ÏÉÅÏÑ∏Î≥¥Í∏∞ Î≤ÑÌäº\n              const detailBtn = document.querySelector(`.map-detail-btn[data-id=\"${p.id}\"]`);\n              if (detailBtn) {\n                detailBtn.onclick = (e) => {\n                  e.preventDefault();\n                  navigate(`/properties/${p.id}`);\n                };\n              }\n\n              // ÏòàÏïΩ Î≤ÑÌäº\n              if (!p.reservedBy) {\n                const reserveBtn = document.querySelector(`.map-reserve-btn[data-id=\"${p.id}\"]`);\n                if (reserveBtn) {\n      reserveBtn.onclick = (e) => {\n        e.preventDefault();\n        handleReserve(p);\n                  };\n                }\n              }\n            }, 100);\n          }\n        });\n      });\n    };\n\n    if (typeof window.kakao === 'undefined' || !window.kakao.maps) {\n      const script = document.createElement('script');\n      script.src = `https://dapi.kakao.com/v2/maps/sdk.js?appkey=${KAKAO_JS_KEY}&libraries=services&autoload=false`;\n      script.async = true;\n      script.onload = () => {\n        window.kakao.maps.load(initMap);\n      };\n      document.head.appendChild(script);\n    } else {\n      window.kakao.maps.load(initMap);\n    }\n\n    return () => {\n      if (container) container.innerHTML = '';\n    };\n  }, [properties, navigate]);\n\n  return (\n    <div style={{ width: '100%', height: '100%' }}>\n      <div\n        ref={mapRef}\n        style={{\n          width: '100%',\n          height: '100%',\n          borderRadius: '12px',\n          boxShadow: '0 2px 8px rgba(0,0,0,0.06)'\n        }}\n      />\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}